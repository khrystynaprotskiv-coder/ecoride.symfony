{% extends 'layout.html.twig' %}

{% block title %}Mon compt{% endblock %}

{% block content %}
<div class="body">
<div class="main">
<div class="container-card">
<div class="prof_scr">
<section class="ifp">
    <div>
        <h2>{{ user.name }} {{ user.surname }}</h2>
        <p>Mes credits: {{ user.credits }}</p>
        <p>Email: {{ user.email }}</p>
        <p>Adress: {{ user.adress }}</p>
        <p>Numero telephone : {{ user.telephone }}</p>
    </div>
    <a class="btn-edit modif" href="{{ path('profile_edit',{id: user.id})}}">Modifier mon profile</a>
    
    
</section>

<section class="tabs">
      <label class="tab">
        <input type="radio" name="tabs" hidden class="tab-actor" checked />
        Mes Trajetes
      </label>
      <article class="tab-panel">
        <div class="content text">
            <h3 class="titel-vehicul">Mes trajetes: </h3>

            
             <a class="add-travel" href="{{ path('travel_crud_new')}}">Ajouter un nouveau covoiturage</a>
            


            <div class="travels-list">
            <p>Mes propres trajets</p>
            {% for travel in travels %}
            <div class="travel-item">
                <div class="depart">
                    <h3 class="depart-hours">{{ travel.timeDepart ? travel.timeDepart|date('H:i') : '' }}</h3>
                    <h3 class="depart-hours">{{ travel.dateDepart ? travel.dateDepart|date('Y-m-d') : '' }}</h3>
                    <h3 class="depart-city">{{ travel.placeDepart }}</h3>
                </div>
                
                <div class="destination">
                    <h3 class="depart-hours">{{ travel.timeDepart ? travel.timeArrive|date('H:i') : '' }}</h3>
                    <h3 class="depart-hours">{{ travel.dateDepart ? travel.dateArrive|date('Y-m-d') : '' }}</h3>
                    <h3 class="depart-city">{{ travel.placeArrive }}</h3>
                </div>
                <h2 class="price">{{ travel.price }} €</h2> 
                
                <div class="profil">
                    <div class="profil-pic-wrapper">
                        <img src="" class="profile-pic">
                    </div>
                    <h4 class="pseudo">{{ travel.owner.name }} {{ travel.owner.surname }}</h4>
                    <p class="info-travel">5.3</p>
                </div>
                
                <div class="passagers-info">
                    <p class="info-travel">Il y a {{ travel.nbPlaces }} places libres</p>
                </div>
                <div class="eco-mark">
                    <p class="info-travel">C’est un trajet ecologique</p>
                </div>
                
                <a class="detail" href="{{ path('travel_crud_show', {id: travel.id})}} ">Détail</a>
            </div>

           
            {% endfor %}






        <div class="travels-list">
            <p>Les trajets ou je suis passager</p>
            {% for travel in travel %}
            <div class="travel-item">
                <div class="depart">
                    <h3 class="depart-hours">{{ travel.timeDepart ? travel.timeDepart|date('H:i') : '' }}</h3>
                    <h3 class="depart-hours">{{ travel.dateDepart ? travel.dateDepart|date('Y-m-d') : '' }}</h3>
                    <h3 class="depart-city">{{ travel.placeDepart }}</h3>
                </div>
                
                <div class="destination">
                    <h3 class="depart-hours">{{ travel.timeDepart ? travel.timeArrive|date('H:i') : '' }}</h3>
                    <h3 class="depart-hours">{{ travel.dateDepart ? travel.dateArrive|date('Y-m-d') : '' }}</h3>
                    <h3 class="depart-city">{{ travel.placeArrive }}</h3>
                </div>
                <h2 class="price">{{ travel.price }} €</h2> 
                
                <div class="profil">
                    <div class="profil-pic-wrapper">
                        <img src="" class="profile-pic">
                    </div>
                    <h4 class="pseudo">{{ travel.owner.name }} {{ travel.owner.surname }}</h4>
                    <p class="info-travel">5.3</p>
                </div>
                
                <div class="passagers-info">
                    <p class="info-travel">Il y a {{ travel.nbPlaces }} places libres</p>
                </div>
                <div class="eco-mark">
                    <p class="info-travel">C’est un trajet ecologique</p>
                </div>
                
                <a class="detail" href="{{ path('travel_crud_show', {id: travel.id})}} ">Détail</a>
            </div>

           
            {% endfor %}



        </div>
      </article>

      <label class="tab">
        <input type="radio" name="tabs" hidden class="tab-actor" />
        Mon Info
      </label>
      <article class="tab-panel">


          <h3 class="titel-vehicul">Mes véhicules: </h3>
          <a class="add-vehicul" href="{{ path('profile_car_new')}}">Ajouter un nouveau véhicule</a>

           <div>
        <h3>Les préférences</h3>

        <p class="descrip-perso">Cigarette autorisée</p>
        <p class="descrip-perso">Je préfère ne pas voyager en compagnie d’animaux</p>
    </div>

    {% for car in cars %}
   
    <fieldset>
    
    <div class="driver">
    <p class="hr">{{car.id}}</p>
    <div>
    <a href="{{ path('profile_car_edit',{id: car.id})}}">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25">
                <path d="M12 20H21" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M16.5 3.49998C16.8978 3.10216 17.4374 2.87866 18 2.87866C18.2786 2.87866 18.5544 2.93353 18.8118 3.04014C19.0692 3.14674 19.303 3.303 19.5 3.49998C19.697 3.69697 19.8532 3.93082 19.9598 4.18819C20.0665 4.44556 20.1213 4.72141 20.1213 4.99998C20.1213 5.27856 20.0665 5.55441 19.9598 5.81178C19.8532 6.06915 19.697 6.303 19.5 6.49998L7 19L3 20L4 16L16.5 3.49998Z" stroke="black" fill="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </a>
        <a href="{{ path('profile_car_delete',{id: car.id})}}">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25">
                <g clip-path="url(#clip0_97_253)">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M12 14.122L17.303 19.425C17.5844 19.7064 17.966 19.8645 18.364 19.8645C18.7619 19.8645 19.1436 19.7064 19.425 19.425C19.7064 19.1436 19.8645 18.7619 19.8645 18.364C19.8645 17.966 19.7064 17.5844 19.425 17.303L14.12 12L19.424 6.69699C19.5632 6.55766 19.6737 6.39226 19.749 6.21024C19.8244 6.02821 19.8631 5.83313 19.8631 5.63613C19.8631 5.43914 19.8242 5.24407 19.7488 5.06209C19.6733 4.8801 19.5628 4.71475 19.4235 4.57549C19.2841 4.43622 19.1187 4.32576 18.9367 4.25042C18.7547 4.17507 18.5596 4.13631 18.3626 4.13636C18.1656 4.13641 17.9706 4.17526 17.7886 4.25069C17.6066 4.32612 17.4412 4.43666 17.302 4.57599L12 9.87899L6.69697 4.57599C6.55867 4.43266 6.3932 4.31831 6.21024 4.23961C6.02727 4.16091 5.83046 4.11944 5.63129 4.11762C5.43212 4.11579 5.23459 4.15365 5.05021 4.22899C4.86583 4.30432 4.6983 4.41562 4.55739 4.55639C4.41649 4.69717 4.30503 4.86459 4.22952 5.0489C4.15401 5.23321 4.11597 5.43071 4.1176 5.62988C4.11924 5.82905 4.16053 6.02589 4.23905 6.20894C4.31758 6.39198 4.43177 6.55755 4.57497 6.69599L9.87997 12L4.57597 17.304C4.43277 17.4424 4.31858 17.608 4.24005 17.791C4.16153 17.9741 4.12024 18.1709 4.1186 18.3701C4.11697 18.5693 4.15501 18.7668 4.23052 18.9511C4.30603 19.1354 4.41749 19.3028 4.55839 19.4436C4.6993 19.5844 4.86683 19.6957 5.05121 19.771C5.23559 19.8463 5.43312 19.8842 5.63229 19.8824C5.83146 19.8805 6.02827 19.8391 6.21124 19.7604C6.3942 19.6817 6.55967 19.5673 6.69797 19.424L12 14.122Z" fill="black"/>
                </g>
                <defs>
                <clipPath id="clip0_97_253">
                <rect width="24" height="24" fill="white"/>
                </clipPath>
                </defs>
            </svg>
        </a>
        </div>
    <div class="car-inf">
        <h4 class="title-perso">Brand:</h4>
        <p class="descrip-perso">{{car.brand.label}}</p>
    </div>

    <div class="car-inf">
        <h4 class="title-perso">Model:</h4>
        <p class="descrip-perso">{{car.model}}</p>
    </div>

    <div class="car-inf">
        <h4 class="title-perso">Color:</h4>
        <p class="descrip-perso">{{car.color}}</p>
    </div>

    <div class="car-inf">
        <h4 class="title-perso">Energy:</h4>
        <p class="descrip-perso">{{car.energy}} </p>
    </div>

    <div class="car-inf">
        <h4 class="title-perso">Registration:</h4>
        <p class="descrip-perso">{{car.registration}}</p>
    </div>

    <div >
        <h4 class="title-perso">Registration date:</h4>
        <p class="descrip-perso"> {{car.registrationAt|date('d/m/Y')}}</p>
    </div>

        
    </div>
    </fieldset>
    {% endfor %}
        
      </article>
    </section>
    
    
    </div>
    </div>
</div>
</div>
{% endblock %}


